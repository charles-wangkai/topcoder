public class TellBagsApart {
  static final double THRESHOLD = (3.0 / 7 + 19.0 / 39) / 2;

  public String whichBagIsSmaller(int[] records) {
    StringBuilder result = new StringBuilder();
    for (int i = 0; i < records.length; i += 8) {
      int total1 = records[i] + records[i + 1] + records[i + 2] + records[i + 3];
      int total2 = records[i + 4] + records[i + 5] + records[i + 6] + records[i + 7];
      int smallerBag;
      if (total1 > total2) {
        double p = (double) (records[i] + records[i + 3]) / total1;
        if (p < THRESHOLD) {
          smallerBag = 1;
        } else {
          smallerBag = 2;
        }
      } else {
        double p = (double) (records[i + 4] + records[i + 7]) / total2;
        if (p < THRESHOLD) {
          smallerBag = 2;
        } else {
          smallerBag = 1;
        }
      }

      result.append(smallerBag);
    }

    return result.toString();
  }

  // BEGIN KAWIGIEDIT TESTING
  // Generated by KawigiEdit 2.1.4 (beta) modified by pivanof
  private static boolean KawigiEdit_RunTest(int testNum, int[] p0, boolean hasAnswer, String p1) {
    System.out.print("Test " + testNum + ": [" + "{");
    for (int i = 0; p0.length > i; ++i) {
      if (i > 0) {
        System.out.print(",");
      }
      System.out.print(p0[i]);
    }
    System.out.print("}");
    System.out.println("]");
    TellBagsApart obj;
    String answer;
    obj = new TellBagsApart();
    long startTime = System.currentTimeMillis();
    answer = obj.whichBagIsSmaller(p0);
    long endTime = System.currentTimeMillis();
    boolean res;
    res = true;
    System.out.println("Time: " + (endTime - startTime) / 1000.0 + " seconds");
    if (hasAnswer) {
      System.out.println("Desired answer:");
      System.out.println("\t" + "\"" + p1 + "\"");
    }
    System.out.println("Your answer:");
    System.out.println("\t" + "\"" + answer + "\"");
    if (hasAnswer) {
      res = answer.equals(p1);
    }
    if (!res) {
      System.out.println("DOESN'T MATCH!!!!");
    } else if ((endTime - startTime) / 1000.0 >= 2) {
      System.out.println("FAIL the timeout");
      res = false;
    } else if (hasAnswer) {
      System.out.println("Match :-)");
    } else {
      System.out.println("OK, but is it right?");
    }
    System.out.println("");
    return res;
  }

  public static void main(String[] args) {
    boolean all_right;
    all_right = true;

    int[] p0;
    String p1;

    // ----- test 0 -----
    p0 =
        new int[] {
          262, 371, 340, 277, 303, 304, 333, 310, 296, 326, 370, 275, 312, 329, 284, 308, 265, 402,
          372, 279, 279, 317, 307, 279, 112, 160, 121, 102, 497, 497, 505, 506
        };
    p1 = "1111";
    all_right = KawigiEdit_RunTest(0, p0, true, p1) && all_right;
    // ------------------

    // ----- test 1 -----
    p0 =
        new int[] {
          401, 405, 345, 358, 203, 295, 284, 209, 348, 380, 396, 361, 221, 274, 307, 213, 361, 347,
          410, 347, 246, 287, 298, 204, 301, 389, 412, 304, 253, 289, 280, 272, 303, 450, 388, 290,
          270, 286, 246, 267, 328, 354, 326, 362, 254, 305, 309, 262, 290, 362, 391, 296, 285, 282,
          313, 281, 338, 335, 345, 335, 220, 338, 335, 254, 309, 356, 348, 323, 239, 344, 343, 238,
          264, 368, 365, 258, 301, 312, 328, 304, 256, 368, 343, 295, 296, 323, 319, 300, 275, 318,
          383, 258, 320, 340, 306, 300, 275, 301, 323, 309, 273, 372, 366, 281, 263, 331, 290, 309,
          277, 358, 395, 277, 261, 310, 291, 259, 301, 407, 379, 292, 256, 318, 297, 257, 325, 358,
          366, 323, 284, 287, 274, 286, 294, 406, 358, 311, 266, 271, 282, 256, 282, 395, 429, 319,
          270, 274, 278, 268, 308, 396, 404, 302, 203, 283, 299, 229, 368, 401, 377, 340
        };
    p1 = "22211212211122212221";
    all_right = KawigiEdit_RunTest(1, p0, true, p1) && all_right;
    // ------------------

    if (all_right) {
      System.out.println("You're a stud (at least on the example cases)!");
    } else {
      System.out.println("Some of the test cases had errors.");
    }
  }
  // END KAWIGIEDIT TESTING
}
// Powered by KawigiEdit 2.1.4 (beta) modified by pivanof!
